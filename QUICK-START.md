# ğŸš€ Claude Code è‡ªåŠ¨å®¡æ‰¹è„šæœ¬ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## 1åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### æ­¥éª¤1ï¼šæ£€æŸ¥ç¯å¢ƒ
```bash
./setup.sh -c
```

### æ­¥éª¤2ï¼šäº¤äº’å¼è®¾ç½®
```bash
./setup.sh -i
```
æŒ‰æç¤ºé€‰æ‹©é€‚åˆä½ ç¯å¢ƒçš„å®¡æ‰¹è„šæœ¬ã€‚

### æ­¥éª¤3ï¼šéªŒè¯é…ç½®
```bash
./setup.sh -t
```

**å®Œæˆï¼** ğŸ‰ ä½ çš„Claude Codeç°åœ¨æœ‰äº†æ™ºèƒ½å®¡æ‰¹åŠŸèƒ½ã€‚

## 30ç§’é€‰æ‹©æŒ‡å—

| ä½ çš„éœ€æ±‚ | æ¨èè„šæœ¬ | è®¾ç½®å‘½ä»¤ |
|----------|----------|----------|
| **æ–°æ‰‹å…¥é—¨** | åŸºç¡€å®¡æ‰¹ | `./setup.sh -s basic` |
| **å¼€å‘ç¯å¢ƒ** | å¼€å‘ä¸“ç”¨ | `./setup.sh -s dev` |
| **ç”Ÿäº§æœåŠ¡å™¨** | ç”Ÿäº§ä¸“ç”¨ | `./setup.sh -s prod` |
| **CI/CDæµæ°´çº¿** | è‡ªåŠ¨åŒ–å®¡æ‰¹ | `./setup.sh -s cicd` |
| **é«˜çº§ç”¨æˆ·** | ç»„åˆæ™ºèƒ½ | `./setup.sh -s intelligent` |
| **Windowsç”¨æˆ·** | Windowsç‰ˆæœ¬ | ä½¿ç”¨ `.bat` è„šæœ¬ |

## ç«‹å³æµ‹è¯•

æµ‹è¯•ä½ çš„å®¡æ‰¹é…ç½®ï¼š
```bash
# æµ‹è¯•åŸºç¡€å‘½ä»¤ï¼ˆåº”è¯¥è‡ªåŠ¨æ‰¹å‡†ï¼‰
echo '{"tool_name": "ls", "tool_input": {"path": "/tmp"}, "context": {"project_root": "/home/user/project"}}' | bash $(grep -o '"command": *"[^"]*"' ~/.claude/settings.json | cut -d'"' -f4)

# æµ‹è¯•å±é™©å‘½ä»¤ï¼ˆåº”è¯¥è¢«æ‹’ç»ï¼‰
echo '{"tool_name": "Bash", "tool_input": {"command": "rm -rf /"}, "context": {"project_root": "/home/user/project"}}' | bash $(grep -o '"command": *"[^"]*"' ~/.claude/settings.json | cut -d'"' -f4)
```

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹çŠ¶æ€
./setup.sh -S

# åˆ‡æ¢è„šæœ¬ç±»å‹
./setup.sh -s smart

# å¤‡ä»½å½“å‰é…ç½®
./setup.sh -b

# æ¢å¤å¤‡ä»½
./setup.sh -r

# æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
cat README.md

# è¿è¡Œå®Œæ•´æµ‹è¯•
./testing/test-approval-scripts.sh

# è°ƒè¯•é—®é¢˜
./testing/debug-approval-script.sh -d 3 -v $(grep -o '"command": *"[^"]*"' ~/.claude/settings.json | cut -d'"' -f4) test-input.json
```

## ğŸ“‹ é…ç½®æ–‡ä»¶æ¨¡æ¿

### åŸºç¡€é…ç½®
```json
{
  "PreToolUse": [
    {
      "matcher": "Write|Edit|Bash",
      "hooks": [
        {
          "type": "command",
          "command": "bash /path/to/your/script.sh"
        }
      ]
    }
  ]
}
```

### é«˜çº§é…ç½®ï¼ˆå¤šè„šæœ¬ç»„åˆï¼‰
```json
{
  "PreToolUse": [
    {
      "matcher": "Write|Edit",
      "hooks": [
        {
          "type": "command",
          "command": "bash /path/to/smart-script.sh"
        }
      ]
    },
    {
      "matcher": "Bash",
      "hooks": [
        {
          "type": "command",
          "command": "bash /path/to/tiered-script.sh"
        }
      ]
    }
  ]
}
```

## ğŸ¯ ä¸åŒåœºæ™¯çš„æœ€ä½³å®è·µ

### ğŸ”§ å¼€å‘å›¢é˜Ÿ
```bash
# é€‰æ‹©å¼€å‘ç¯å¢ƒè„šæœ¬
./setup.sh -s dev

# ç‰¹ç‚¹ï¼š
# - ç›¸å¯¹å®½æ¾ï¼Œæ”¯æŒå¼€å‘å·¥å…·
# - å…è®¸ä¸´æ—¶æ–‡ä»¶æ“ä½œ
# - æ”¯æŒnpmã€pipã€gitç­‰å‘½ä»¤
```

### ğŸ­ ç”Ÿäº§è¿ç»´
```bash
# é€‰æ‹©ç”Ÿäº§ç¯å¢ƒè„šæœ¬
./setup.sh -s prod

# ç‰¹ç‚¹ï¼š
# - æå…¶ä¸¥æ ¼çš„å®‰å…¨æ§åˆ¶
# - åªå…è®¸æœ€å®‰å…¨çš„æ“ä½œ
# - è¯¦ç»†çš„å®¡è®¡æ—¥å¿—
```

### ğŸ¤– CI/CDæµæ°´çº¿
```bash
# é€‰æ‹©CI/CDç¯å¢ƒè„šæœ¬
./setup.sh -s cicd

# ç‰¹ç‚¹ï¼š
# - è‡ªåŠ¨åŒ–ä¼˜å…ˆ
# - åŸºç¡€å®‰å…¨æ£€æŸ¥
# - æ€§èƒ½ä¼˜åŒ–
```

### ğŸ§  é«˜çº§ç”¨æˆ·
```bash
# é€‰æ‹©ç»„åˆæ™ºèƒ½è„šæœ¬
./setup.sh -s intelligent

# ç‰¹ç‚¹ï¼š
# - å¤šå› ç´ ç»¼åˆè¯„åˆ†
# - æ—¶é—´çª—å£æ§åˆ¶
# - ç”¨æˆ·èº«ä»½æ„ŸçŸ¥
# - æœºå™¨å­¦ä¹ é›†æˆæ¥å£
```

## ğŸš¨ é‡è¦æé†’

### âœ… å®‰å…¨æœ€ä½³å®è·µ
1. **æ€»æ˜¯å…ˆæµ‹è¯•**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰ï¼Œå…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
2. **å®šæœŸå®¡æŸ¥**ï¼šå®šæœŸæ£€æŸ¥å®¡æ‰¹æ—¥å¿—å’Œè§„åˆ™
3. **å¤‡ä»½é…ç½®**ï¼šé‡è¦é…ç½®å˜æ›´å‰å…ˆå¤‡ä»½
4. **ç†è§£è§„åˆ™**ï¼šç¡®ä¿ç†è§£æ‰€é€‰è„šæœ¬çš„å®¡æ‰¹é€»è¾‘

### âš ï¸ æ³¨æ„äº‹é¡¹
- ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ `prod-environment-approve.sh`
- Windowsç”¨æˆ·è¯·ä½¿ç”¨ `windows-versions/` ç›®å½•ä¸‹çš„è„šæœ¬
- å®šæœŸæ›´æ–°è„šæœ¬ä»¥è·å¾—æœ€æ–°å®‰å…¨ç‰¹æ€§

## ğŸ” æ•…éšœæ’é™¤

### è„šæœ¬æ— å“åº”ï¼Ÿ
```bash
# æ£€æŸ¥æƒé™
ls -la ~/.claude/settings.json

# æ£€æŸ¥ä¾èµ–
./setup.sh -c

# è°ƒè¯•æ¨¡å¼
DEBUG_LEVEL=3 ./testing/debug-approval-script.sh -d 3 -v $(grep -o '"command": *"[^"]*"' ~/.claude/settings.json | cut -d'"' -f4) test-input.json
```

### å®¡æ‰¹å†³ç­–ä¸æ­£ç¡®ï¼Ÿ
```bash
# æŸ¥çœ‹å®¡æ‰¹æ—¥å¿—
tail -f /tmp/claude-approval.log

# åˆ‡æ¢æ›´åˆé€‚çš„è„šæœ¬
./setup.sh -s smart  # æˆ– tiered, intelligent

# è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
ç¼–è¾‘ ~/.claude/settings.json
```

## ğŸ“š æ·±å…¥å­¦ä¹ 

- **å®Œæ•´æ•™ç¨‹**: [claude-code-auto-approval-tutorial.md](../claude-code-auto-approval-tutorial.md)
- **è¯¦ç»†æ–‡æ¡£**: [README.md](README.md)
- **è„šæœ¬æ¸…å•**: [SCRIPT-LIST.md](SCRIPT-LIST.md)
- **æµ‹è¯•å·¥å…·**: `./testing/test-approval-scripts.sh`
- **è°ƒè¯•å·¥å…·**: `./testing/debug-approval-script.sh`

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **é€‰æ‹©åˆé€‚çš„è„šæœ¬ç±»å‹**ï¼ˆä½¿ç”¨ä¸Šé¢çš„é€‰æ‹©æŒ‡å—ï¼‰
2. **è¿è¡Œæµ‹è¯•éªŒè¯**ï¼ˆ`./setup.sh -t`ï¼‰
3. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**ï¼ˆ`/tmp/claude-*.log`ï¼‰
4. **æ ¹æ®éœ€æ±‚è°ƒæ•´é…ç½®**
5. **å®šæœŸå®¡æŸ¥å’Œæ›´æ–°**

---

**ğŸ‰ ç¥è´ºï¼** ä½ å·²ç»æˆåŠŸé…ç½®äº†Claude Codeçš„æ™ºèƒ½å®¡æ‰¹ç³»ç»Ÿã€‚

ç°åœ¨ä½ å¯ä»¥ï¼š
- âœ… äº«å—æ›´æ™ºèƒ½çš„è‡ªåŠ¨å®¡æ‰¹
- âœ… è·å¾—æ›´å¥½çš„å®‰å…¨ä¿æŠ¤
- âœ… æé«˜å¼€å‘æ•ˆç‡
- âœ… å‡å°‘æ‰‹åŠ¨ç¡®è®¤

**Happy coding with intelligent approval!** ğŸš€âœ¨

---

*æœ‰é—®é¢˜ï¼Ÿè¿è¡Œ `./setup.sh -h` æŸ¥çœ‹å¸®åŠ©ï¼Œæˆ–ä½¿ç”¨è°ƒè¯•å·¥å…·æ’æŸ¥é—®é¢˜ã€‚*

## ğŸ“ è·å¾—å¸®åŠ©

1. **æŸ¥çœ‹æ—¥å¿—**: `tail -f /tmp/claude-*.log`
2. **è¿è¡Œæµ‹è¯•**: `./setup.sh -t`
3. **è°ƒè¯•é—®é¢˜**: `./testing/debug-approval-script.sh -h`
4. **æŸ¥çœ‹æ–‡æ¡£**: é˜…è¯»è¯¦ç»†çš„README.md
5. **æäº¤åé¦ˆ**: é€šè¿‡GitHub Issues

**å¼€å§‹ä½¿ç”¨ä½ çš„æ™ºèƒ½å®¡æ‰¹ç³»ç»Ÿå§ï¼** ğŸŠ